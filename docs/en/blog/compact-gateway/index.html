<!DOCTYPE html>
<html lang='en' class=''>

<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name=viewport content="width=device-width, initial-scale=1">

<meta name="description" content="Creating a Compact Gateway" />

<title>
	nishinohi
	 - Creating a Compact Gateway 
</title>



<link rel="icon" href="/favicon.ico">

	














<script src="https://nishinohi.github.io/js/pico.min.0c87ee6124671e6a6caffc5953bef38a.js" intergrity="md5-DIfuYSRnHmpsr/xZU77zig==" crossorigin="anonymous"></script>


	





<link rel="stylesheet" href="https://nishinohi.github.io/css/main.min.78604330172379ee2eb47dc8b8b94978.css" crossorigin="anonymous" media="screen"
	integrity="md5-eGBDMBcjee4utH3IuLlJeA==">






<link rel="stylesheet" href="https://nishinohi.github.io/css/syntax.min.a381883ed9f1079c185da5f1200cd5a9.css" crossorigin="anonymous"
	integrity="md5-o4GIPtnxB5wYXaXxIAzVqQ==" media="screen">









<link rel="stylesheet" href="https://nishinohi.github.io/style/style.min.d41d8cd98f00b204e9800998ecf8427e.css" crossorigin="anonymous" media="screen"
	integrity="md5-1B2M2Y8AsgTpgAmY7PhCfg==">










<link rel="stylesheet" href="https://nishinohi.github.io/css/main.min.d5d46344e3b621a3e3a173927106f45d.css" crossorigin="anonymous" media="screen"
	integrity="md5-1dRjROO2IaPjoXOScQb0XQ==">


</head>

<body class="min-h-screen bg-secondary-light dark:bg-secondary text-primary relative pb-24">
	
	<div id="top" class="dark"></div>

<header class="w-full flex items-center justify-between px-5 mx-auto md:pt-8 md:max-w-5xl pt-5">
	
	<div class="flex items-center">
		<a href="https://nishinohi.github.io/en/" class="inline-block font-bold no-underline select-none">
			<h1 class="hidden md:block font-charter tracking-normal m-0">
				nishinohi
			</h1>

			<div class="md:hidden">
				<div class="w-8 h-8 relative font-bold bg-white blend-diff">
	<h1 class="absolute-center m-0 font-charter text-2xl text-gray-100 blend-diff select-none">
		n
	</h1>
</div>
			</div>
		</a>
		
		<div class="inline-block pl-2 ml-2 border-l border-gray-600">
			
			<a href="https://nishinohi.github.io/blog/compact-gateway/" class="no-underline inline-block px-1">
				<span class="font-bold">
					JA
				</span>
			</a>
			
		</div>
		
	</div>

	<nav class="">
		
		<a href="/en/"
			class='mx-1 md:mx-2 hover:text-primary-light dark:hover:text-primary-dark no-underline'>
			 Home
		</a>
		
		<a href="/en/blog/"
			class='mx-1 md:mx-2 hover:text-primary-light dark:hover:text-primary-dark no-underline'>
			 Blog
		</a>
		
		<a href="/en/about/"
			class='mx-1 md:mx-2 hover:text-primary-light dark:hover:text-primary-dark no-underline'>
			 About
		</a>
		
		<a href="/en/resume/"
			class='mx-1 md:mx-2 hover:text-primary-light dark:hover:text-primary-dark no-underline'>
			 Resume
		</a>
		
	</nav>
</header>
	

	<main class="w-full px-4 pt-8 mx-auto md:max-w-4xl overflow-x-hidden md:overflow-visible ">
<button onclick="window.history.back()"
	class="bg-transparent border-none font-bold">&larr;Back</button>
<h1 class="text-center mx-auto max-w-4xl text-4xl sm:text-5xl md:text-6xl">
	Creating a Compact Gateway
</h1>

<div class="text-justify leading-loose mb-12 text-lg">
	<h1 id="what-i-made">What I made</h1>
<hr>
<p>Using the 




<a href="/en/blog/compact-3g-module/" 
	class="underline " >
	3G module created previously
</a> as a reference, I have created a compact Gateway that combines a microcontroller and an LTE module.</p>
<h1 id="osh">OSH</h1>
<hr>
<h2 id="products-for-reference">Products for reference</h2>
<p>First, get a schematic from OSH. In this case, I will refer to the 




<a href="https://wiki.seeedstudio.com/Wio_LTE_Cat.1/#resource" 
	class="underline "  target="_blank" rel="noopener"
	>
	circuit diagram of Wio LTE
</a>, which is also a <code>SORACOM</code> certified device and provided by <code>Seeed</code>. However, if you order PCBA from Seeed, it is cheaper and faster to use the parts list provided by Seeed. However, if you order PCBA from Seeed, it is better to use the parts list provided by Seeed.</p>
<p><img  class="mx-auto my-4"  src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/167138/be013c2a-44ea-5685-80b6-ce512f362d3e.png" alt=""
	>

</p>
<h2 id="read-the-schematic">Read the schematic</h2>
<p>As before, remove unnecessary circuits except for communication. The <code>Wio LTE</code> has a microcontroller called <code>STM32F4</code>, but this time I wanted to add WiFi function, so I replaced the microcontroller with 




<a href="https://www.espressif.com/en/products/socs/esp32" 
	class="underline "  target="_blank" rel="noopener"
	>
	ESP32
</a>.Also, the Wio LTE had a three-layer implementation, but I thought I could fit it in two layers by reducing the number of parts, so I decided to implement it in two layers.</p>
<p><img  class="mx-auto my-4"  src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/167138/f465b3cb-c4f8-cee5-9b40-156178dd0e87.png" alt=""
	>

</p>
<h1 id="remodeling-operations">Remodeling operations</h1>
<hr>
<h2 id="remodeling-content">Remodeling content</h2>
<p>The following is the circuit diagram and wiring diagram for this modification. Since only the communication function is needed, the number of parts has been reduced considerably from the above schematic. I have already replaced the microcontroller with an ESP32, and I have placed the WiFi antenna so that it is outside the board to avoid interference, but I don&rsquo;t know what kind of placement is best for the antenna since I have no knowledge of radio waves.</p>
<p><img  class="mx-auto my-4"  src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/167138/6c3f39db-0c74-3454-c8de-9f69e457b944.png" alt=""
	>

</p>
<p><img  class="mx-auto my-4"  src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/167138/39b15ca3-394e-8e31-a0e0-4e27ce5c8f31.png" alt=""
	>

</p>
<h2 id="finished-product">Finished product</h2>
<p>Let&rsquo;s take a look at the finished product.There are some wires sticking out that I was forced to add. This was added because I needed to tweak the PIN to activate the LTE module a bit.</p>
<p><img  class="mx-auto my-4"  src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/167138/bb3ded8d-9348-0f1b-ef78-6bdc3db6c787.png" alt=""
	>

</p>
<h2 id="trouble">Trouble</h2>
<p>The SIM card holder provided by Seeed for Eagle had a flaw in the library, and if I wired it as is, it would not read the SIM correctly. So I had to melt the solder and forcibly pull off the SIM card holder and rewire it. It didn&rsquo;t look good, but I was relieved to see that it worked correctly. By the way, Seeed sent me a coupon to use in Seeed with their apology.</p>
<p><img  class="mx-auto my-4"  src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/167138/0b931b39-7010-718a-dd5f-1441b42e4556.png" alt=""
	>

</p>
<h1 id="ec25-j-is-a-special-acquisition-channel">EC25-J is a special acquisition channel</h1>
<hr>
<p>In fact, the <code>EC25-J</code>, which is implemented as a module for LTE this time, was originally printed with a technical compliance mark, which <strong>cannot be ordered by individuals</strong>. I talked to an engineer and marketing manager of Seeed whom I met when I was speaking at a Seeed-sponsored workshop, and he said he would arrange for <code>EC25-J</code> to be implemented, and this module was completed. I would like to take this opportunity to thank him very much.</p>

</div>


<hr class="mb-6 mt-24">


<div class="flex flex-wrap justify-between items-center">
	
	<div class=" w-full sm:w-1/2  mb-1 text-center sm:text-left overflow-ellipsis pr-1">
		<a class="mr-4 no-underline" href="https://nishinohi.github.io/en/blog/kaitaiyugou/">
			<img src="/icons/top_arrow.svg" class="transform -rotate-90 inline-block">
		</a>
		<a href="https://nishinohi.github.io/en/blog/kaitaiyugou/">
			<span class="underline">Disassembly Fusion</span>
		</a>
	</div>
	

	
	<div
		class=" w-full sm:w-1/2  mt-1 text-center sm:text-right overflow-ellipsis pl-1">
		<a href="https://nishinohi.github.io/en/blog/matageek/">
			<span class="underline">MATAGEEK</span>
		</a>
		<a class="ml-4 no-underline" href="https://nishinohi.github.io/en/blog/matageek/">
			<img src="/icons/top_arrow.svg" class="transform rotate-90 inline-block">
		</a>
	</div>
	
</div>

<hr class="my-6">
<div class="flex justify-center items-center flex-wrap">
	
	<a href="mailto:tomoya0209@gmail.com" title="email"
		class="bg-black rounded-full p-3 mx-2 my-2 transform hover:scale-110 active:scale-90 transition-transform duration-300 ease-in-out"
		 >
		<img src="/icons/email.svg" alt="email icon" class="w-4 h-4 md:w-6 md:h-6 blend-diff">
	</a>
	
	<a href="https://github.com/nishinohi" title="github"
		class="bg-black rounded-full p-3 mx-2 my-2 transform hover:scale-110 active:scale-90 transition-transform duration-300 ease-in-out"
		 target="_blank"   rel="noopener" >
		<img src="/icons/github.svg" alt="github icon" class="w-4 h-4 md:w-6 md:h-6 blend-diff">
	</a>
	
	<a href="https://twitter.com/nishinohi" title="twitter"
		class="bg-black rounded-full p-3 mx-2 my-2 transform hover:scale-110 active:scale-90 transition-transform duration-300 ease-in-out"
		 target="_blank"   rel="noopener" >
		<img src="/icons/twitter.svg" alt="twitter icon" class="w-4 h-4 md:w-6 md:h-6 blend-diff">
	</a>
	
	<a href="https://qiita.com/nishinohi" title="qiita"
		class="bg-black rounded-full p-3 mx-2 my-2 transform hover:scale-110 active:scale-90 transition-transform duration-300 ease-in-out"
		 target="_blank"   rel="noopener" >
		<img src="/icons/qiita.svg" alt="Qiita icon" class="w-4 h-4 md:w-6 md:h-6 blend-diff">
	</a>
	
</div>
<div class="mt-6"></div>


	</main>

	<div class="absolute bottom-0 w-full"><footer class="w-full h-24 text-center text-xs text-gray-400 bg-black relative">
	<div class="w-full px-6 md:pt-0 md:mx-auto md:max-w-5xl flex flex-1 space-between items-center absolute-center">
		<a href="https://nishinohi.github.io/en/" class="absolute">
			<div class="w-8 h-8 relative font-bold bg-white blend-diff">
	<h1 class="absolute-center m-0 font-charter text-2xl text-gray-100 blend-diff select-none">
		n
	</h1>
</div>
		</a>

		<div class="h-full flex-1">
			<span class="select-none">
				<a href="https://github.com/negrel/hugo-theme-pico" class="text-gray-400 hover:text-gray-200 no-underline">Pico</a>
				theme for
				<a href="https://gohugo.io/" class="text-gray-400 hover:text-gray-200 no-underline">Hugo</a>
			</span>
		</div>
	</div>
</footer>

	</div>
</body>

</html>